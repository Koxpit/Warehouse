#pragma checksum "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "63ae30dcc8893e73fca646c9533fffed9d89e382"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Warehouse_MapsStorages), @"mvc.1.0.view", @"/Views/Warehouse/MapsStorages.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\_ViewImports.cshtml"
using Warehouse;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\_ViewImports.cshtml"
using Warehouse.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"63ae30dcc8893e73fca646c9533fffed9d89e382", @"/Views/Warehouse/MapsStorages.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"cc02168007f24d38038bd969e052ce5b5b2dcc80", @"/Views/_ViewImports.cshtml")]
    public class Views_Warehouse_MapsStorages : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
  
    ViewBag.Title = "Maps Storages";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<script src=""https://polyfill.io/v3/polyfill.min.js?features=default""></script>
<style type=""text/css"">
    #map {
        height: 600px;
        width: 1200px;
    }

    h1.wahouseTitle {
        text-align: center;
    }
    body {
        background-color: beige;
    }
</style>
<script>
    var map;
    function initMap(zoomLevel, geoLat, geoLong) {
        map = new google.maps.Map(document.getElementById(""map""), {
            zoom: zoomLevel != null ? zoomLevel : 12,
            center: { lat: geoLat != null ? geoLat : 54.886909, lng: geoLong != null ? geoLong : 38.078381 },
        });

        $.get(""");
#nullable restore
#line 27 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
          Write(Url.Action("GetStoragesJson", "Warehouse"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""", function (data) {
            var markers = [];
            var contentStrings = [];
            var infowindows = [];
            var storages = [];
            data.data.forEach(function (storage) {
                var el = [storage.name, storage.territory, storage.address, storage.geoLat, storage.geoLong, storage.storageImageBase64];
                if (storage[0]) el.push(storage[0]);
                storages.push(el);
            });
            for (let i = 0; i < storages.length; i++) {
                markers[i] = new google.maps.Marker({
                    position: { lat: storages[i][3], lng: storages[i][4] },
                    map: map,
                });
                console.log(storages[i][5]);
                contentStrings[i] =
                    ""<div id='content'>"" +
                    ""<div id='siteNotice'>"" +
                    ""</div>"" +
                ""<h1 id='firstHeading' class='firstHeading'>"" + storages[i][0] + ""</h1>"" +
                ""<img src='da");
            WriteLiteral(@"ta:image/jpeg;base64,"" + storages[i][5]  + ""' width=300px height=150px />"" +
                    ""<div id='bodyContent'>"" +
                ""<br /><p>Территория <b>"" + storages[i][1] + ""</b> - "" + storages[i][2] + ""</p>"" +
                    ""</div>"" +
                    ""</div>"";
                infowindows[i] = new google.maps.InfoWindow({
                    content: contentStrings[i],
                });
                markers[i].addListener(""mouseover"", () => {
                    infowindows[i].open(map, markers[i]);
                });
                markers[i].addListener(""mouseout"", () => {
                    infowindows[i].close(map, markers[i]);
                });
            }
        });
    }

    function GoLocation(locationId) {
        $.get(""/Warehouse/GetStorageById?id="" + locationId, function (data) {
            initMap(20, data.data.geoLat, data.data.geoLong);
            var marker = new google.maps.Marker({
                position: { lat: data.data.geoLat, ");
            WriteLiteral(@"lng: data.data.geoLong },
                map: map,
            });
            var contentString =
                '<div id=""content"">' +
                '<div id=""siteNotice"">' +
                '</div>' +
                '<h1 id=""firstHeading"" class=""firstHeading"">' + data.data.name + '</h1>' +
                ""<img src='data:image/jpeg;base64,"" + data.data.storageImageBase64 + ""' width=300px height=150px />"" +
                '<div id=""bodyContent"">' +
                '<p>Территория <b>' + data.data.territory + '</b> - ' + data.data.address + '</p>' +
                '</div>' +
                '</div>';
            var infowindow = new google.maps.InfoWindow({
                content: contentString,
            });
            marker.addListener(""mouseover"", () => {
                infowindow.open(map, marker);
            });
            marker.addListener(""mouseout"", () => {
                infowindow.close(map, marker);
            });
        });
    }
</script>
<div>
    <h1");
            WriteLiteral(" class=\"wahouseTitle\">Наши склады</h1>\r\n    <div>\r\n        <select class=\"form-control\" id=\"selectedStorage\" onchange=\"GoLocation(this.value)\">\r\n            ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "63ae30dcc8893e73fca646c9533fffed9d89e3827744", async() => {
                WriteLiteral("--Выбрать--");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
#nullable restore
#line 100 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
             foreach (var storage in ViewBag.ListOfStorages)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "63ae30dcc8893e73fca646c9533fffed9d89e3829026", async() => {
#nullable restore
#line 102 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
                                       Write(storage.Name);

#line default
#line hidden
#nullable disable
                WriteLiteral(" | ");
#nullable restore
#line 102 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
                                                       Write(storage.Territory);

#line default
#line hidden
#nullable disable
                WriteLiteral(" | ");
#nullable restore
#line 102 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
                                                                            Write(storage.Address);

#line default
#line hidden
#nullable disable
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            BeginWriteTagHelperAttribute();
#nullable restore
#line 102 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
                   WriteLiteral(storage.ID);

#line default
#line hidden
#nullable disable
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
            __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
#nullable restore
#line 103 "C:\Users\lenovo\Desktop\Диплом\Алиев Александр\Программа\Warehouse\Warehouse\Views\Warehouse\MapsStorages.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </select>\r\n    </div>\r\n    <br />\r\n</div>\r\n<div id=\"map\"></div>\r\n\r\n<script async\r\n        src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCZ-JsoUTs0SaGbYit1lPiMX57WIXzFTNQ&callback=initMap\">\r\n</script>\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
